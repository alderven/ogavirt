# ogavirt
API automation tests + run results

## Technical stack:
Programming language: [Python](https://www.python.org/)

Test framework: [pytest](https://docs.pytest.org/en/latest/)

Test report framework: [Yandex Allure](http://allure.qatools.ru/)


## Test cases description + run results

[Test script](https://github.com/alderven/ogavirt/blob/master/test_api_booking_availability.py)

[General results info](https://raw.githack.com/alderven/ogavirt/master/allure-report/#graph)

â„–  | Test description                                                                                    | Hotel Id: 1 | Hotel Id: 2 | Hotel Id: 3 | Hotel Id: 4 
---|------------------------------------------------------------------------------------------------------|-------------|-------------|-------------|------------
1  | Check, that response code is 200 OK                                                                  | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/286cd1c237704093/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/47439ea538517277/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/1a73b80948980896/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/41f2f19e8a84d801/)
2  | Check, that response contains valid JSON                                                             | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/2681308218dd1500/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/5c7745227a3430ca/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/422cad6cb45afd2c/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/c6eb87a696f2ac5d/)
3  | Check, that responded API version, is identical to requested one                                     | [Failed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/f3729ae95eb488c7/) | [Failed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/6a3c31a0bc625ce/) | [Failed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/741c1da53793db52/) | [Failed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/c4c3882003477bef/)
4  | Check, that responded date are identical to requested ones                                           | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/50b9b2a9a8af6582/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/736f422b5308024e/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/a9545c46c44b41f1/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/937c8201f3b38a88/)
5  | Check, that responded user country is identical to requested one                                     | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/87fc99d1afcf9d0f/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/c40320fe60a33e7b/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/eaac7d3f990d8a99/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/654a1709c556fe5a/)
6  | Check, that hotel_details contains a name of type string                                             | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/832bf57dc64d7f77/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/65bb2577782a65ad/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/a6f86c5842b3ebc1/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/1f5ecf5cc800770d/)
7  | Check, that hotel_details contains an address1 of type string                                        | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/bf55140a6f81eef/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/5ac5f89a65023aa0/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/1bf5791874f729ee/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/1cd213d4b770824b/)
8  | Check, that hotel_details contains a city of type string                                             | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/5c76675adb80c177/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/b48447766858b0a4/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/261a58b1eb4034ad/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/d0450de8f7d072ba/)
9  | Check, that hotel_details contains a valid url                                                       | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/bc695fe4daac49e3/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/3e4daa6c066b5288/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/b825d0034c57b3bf/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/a363154c1e2724f5/)
10 | Check, the room_types_array contains at least one entry, or more                                     | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/c1503b7652ae8f1/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/832f4670f06a420d/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/9639b3756db1ffac/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/d877dd5e3f3f1081/)
11 | Check, that the responded room has a name and its data format is type string with at least 3 letters | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/85305f4fba41389c/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/cdea003accbe8508/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/11535149822b75b5/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/6eb4bf5f894c7a5/)
12 | Check, that the responded room has a final_price_at_booking and/or a final_price_at_checkout         | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/e0d63b24532b225c/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/e19eb14465ea0eb0/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/67ea341e0f85f8d/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/46e74942c4f8bb49/)
13 | Check, that currency is a three-letter code of type string and fits to the requested one             | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/cd86ea5f59a8d741/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/783a7b6f246088b9/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/99d272b6faa89117/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/4d7e0d9a67d6c449/)
14 | Check, that amount is a number equal or greater than 0                                               | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/52af39d4147c8051/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/98a4fe8393eab099/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/a463215a6af6b789/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/f59c98d5a96005d4/)
15 | Check, that the start_date is before the end_date                                                    | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/d09000eeff2427e4/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/4af96614cc81ab01/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/a67149482b2fe4f6/) | [Passed](https://raw.githack.com/alderven/ogavirt/master/allure-report/index.html#suites/32a50fc77e91b1dba530529ef8521191/d00d71acb512a044/)


## How to install
1. Download and unzip [this project](https://github.com/alderven/ogavirt/archive/master.zip)
1. Install [Python 3.6 or higher](https://www.python.org/downloads/)
1. Install following Python libs:
   * [pytest](https://docs.pytest.org/en/latest/)
   * [allure-pytest](https://pypi.python.org/pypi/allure-pytest)
   * [validators](https://validators.readthedocs.io/en/latest/)
1. Install [Allure Framework](https://docs.qameta.io/allure/latest/)


## How to run tests
Execute following command from the the test folder:
```
python -m pytest --alluredir /full/path/to/report/folder
```

## How to generate Allure report
Execute following command:
```
allure serve /full/path/to/report/folder
```
See [doc](https://docs.qameta.io/allure/#_report_generation) for more details
